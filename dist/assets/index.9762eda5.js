import{d as g,o as p,c as h,t as v,n as I,i as q,g as Y,r as b,a as W,b as X,e as Z,s as x,f as l,h as T,w as H,j as C,v as J,k as L,p as $,l as G,m as Q,u as n,F as O,q as ee,x as w,y as A,z as oe,A as E,B as te,C as se}from"./vendor.71f77154.js";const de=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerpolicy&&(a.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?a.credentials="include":d.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(d){if(d.ep)return;d.ep=!0;const a=t(d);fetch(d.href,a)}};de();const le=g({props:{label:null,active:{type:Boolean}},emits:["click"],setup(e){return(o,t)=>(p(),h("a",{class:I({selected:e.active}),onClick:t[0]||(t[0]=s=>o.$emit("click",e.label.value)),href:"#/"},v(e.label.displayText),3))}}),ae={apiKey:"AIzaSyCVrZLo0p1odMXf9IlEpn0x13P30Eor79M",authDomain:"todo-ed1fc.firebaseapp.com",databaseURL:"https://todo-ed1fc-default-rtdb.firebaseio.com",projectId:"todo-ed1fc",storageBucket:"todo-ed1fc.appspot.com",messagingSenderId:"385049153898",appId:"1:385049153898:web:f54b669d401460f53a9513",measurementId:"G-88FVDYK078"},ne=q(ae),D=Y(ne),U=b(D,"todos");var c=(e=>(e[e.UNSORTED=0]="UNSORTED",e[e.ASCENDING=1]="ASCENDING",e[e.DESCENDING=2]="DESCENDING",e))(c||{});function R(e,o){return{checked:!1,message:e,id:o,key:o}}function ce(e,o,t){switch(t){case c.ASCENDING:return e.checked===o.checked?0:e.checked?1:-1;case c.DESCENDING:return e.checked===o.checked?0:e.checked?-1:1;case c.UNSORTED:return e.id===o.id?0:e.id>o.id?1:-1}}function re(e){var t;const o=e.val()&&Object.entries(e.val()).map(([s,d])=>(d.key=parseInt(s),d));return(t=o==null?void 0:o.filter(s=>s!==void 0))!=null?t:[]}function ie(){return[R("Welcome",0),R("Sample",1)]}const B=W("todos",{state:()=>({_displayedTodos:[],_filter:"all",_sort:c.UNSORTED,maxId:0}),getters:{todos:e=>{if(!e._displayedTodos)return;const o=e._displayedTodos;switch(o.sort((t,s)=>ce(t,s,e._sort)),e._filter){case"unchecked":return o.filter(t=>!t.checked);case"checked":return o.filter(t=>t.checked);default:return o}},tasksLeft:e=>{var o,t;return(t=(o=e._displayedTodos)==null?void 0:o.filter(s=>!s.checked).length)!=null?t:0},filter:e=>e._filter},actions:{destroyTodo(e){console.log("destroying todo",e);const o=b(D,"todos/"+e.key);X(o).then(()=>{console.log("data saved successfully")}).catch(t=>{console.warn("error",t)})},clearCompleted(){this._displayedTodos&&(this._displayedTodos=this._displayedTodos.filter(e=>!e.checked),this.saveAllTodos())},loadData(){Z(U,e=>{this._displayedTodos=re(e),console.log("this._displayedTodos",this._displayedTodos);const o=this._displayedTodos.reduce((t,s)=>s.id>t?s.id:t,0);console.log({highestId:o}),this.maxId=o+1,console.log("this.maxId",this.maxId)})},setFilter(e){this._filter=e},setSort(e){this._sort=e},updateTodo(e){if(!this._displayedTodos)return;const o=this._displayedTodos.findIndex(t=>e.id===t.id);this._displayedTodos[o]=e,this.saveTodo(e)},addTodo(e){var t,s,d;const o={checked:!1,message:e,id:this.maxId++,key:((s=(t=this._displayedTodos)==null?void 0:t.reduce((a,r)=>(r.key>a,r.key),0))!=null?s:-1)+1};console.log("adding todo from pinia",e),(d=this._displayedTodos)==null||d.push(o),this.saveTodo(o)},saveAllTodos(){var e;(e=this._displayedTodos)==null||e.forEach((o,t)=>{o.key=t}),x(U,this._displayedTodos).then(()=>{console.log("data saved successfully")}).catch(o=>{console.warn("error",o)})},saveTodo(e){const o=b(D,"todos/"+e.key);x(o,e).then(()=>{console.log("data saved successfully")}).catch(t=>{console.warn("error",t)})},loadOnboardingTodos(){this._displayedTodos=ie(),this.saveAllTodos()}}});var N=(e,o)=>{const t=e.__vccOpts||e;for(const[s,d]of o)t[s]=d;return t};const ue={class:"background"},pe=g({setup(e){const o=B();function t(){console.log("Load Onboarding Todos"),o.loadOnboardingTodos()}return(s,d)=>(p(),h("div",ue,[l("p",{class:"message",onClick:t},"Load Onboarding Todos?")]))}});var fe=N(pe,[["__scopeId","data-v-ae225676"]]);const _e=e=>($("data-v-0b1a3743"),e=e(),G(),e),he={class:"view"},me=_e(()=>l("input",{class:"edit",value:"Create a TodoMVC template"},null,-1)),ye=g({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","destroyTodo"],setup(e,{emit:o}){const t=e,s=T(t.modelValue.checked),d=T(t.modelValue.message);H(()=>d.value,i=>{console.log("newMessage",i);const u=t.modelValue;u.message=i,o("update:modelValue",u)});function a(){console.log("toggleChecked",t.modelValue.checked);const i=t.modelValue;i.checked=t.modelValue.checked,s.value=t.modelValue.checked,o("update:modelValue",i)}function r(){console.log("destroy",t.modelValue.id),o("destroyTodo")}return(i,u)=>(p(),h("li",{class:I({completed:s.value})},[l("div",he,[C(l("input",{class:"toggle",title:"Toggle Checkbox",type:"checkbox","onUpdate:modelValue":[u[0]||(u[0]=m=>t.modelValue.checked=m),a]},null,512),[[J,t.modelValue.checked]]),l("label",null,[C(l("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=m=>d.value=m)},null,512),[[L,d.value]])]),l("button",{class:"destroy",title:"Delete Todo",onClick:r})]),me],2))}});var ve=N(ye,[["__scopeId","data-v-0b1a3743"]]);const F=e=>($("data-v-4c87ac68"),e=e(),G(),e),Te={class:"todoapp"},ge={class:"header"},ke=F(()=>l("h1",null,"todos",-1)),Ee=["onKeypress"],be={class:"main"},Ce=F(()=>l("input",{id:"toggle-all",class:"toggle-all",type:"checkbox"},null,-1)),De={key:0,class:"todo-list"},Ie={class:"footer"},Ne={class:"todo-count"},Se={class:"filters"},Ve=g({setup(e){const o=B();o.loadData(),o.tasksLeft;const t=T(""),s=T(c.UNSORTED);function d(){console.log("showChecked")}function a(f){o.destroyTodo(f),console.log("destroyTodo from parent",f)}function r(){o.clearCompleted()}function i(f){o.setFilter(f)}function u(){s.value=(s.value+1)%3,s.value===c.UNSORTED&&console.log("sortTodos","SortState.UNSORTED"),s.value===c.ASCENDING&&console.log("sortTodos","SortState.ASCENDING"),s.value===c.DESCENDING&&console.log("sortTodos","SortState.DESCENDING"),o.setSort(s.value)}function m(f){o.updateTodo(f)}function M(){console.log("addTodo",t.value),o.addTodo(t.value),t.value=""}return console.log("hello from app.vue",o.todos),(f,S)=>{var V;const P=ve,j=fe,k=le;return p(),h(O,null,[l("section",Te,[l("header",ge,[ke,C(l("input",{class:"new-todo",onKeypress:Q(M,["enter"]),placeholder:"What needs to be done?",autofocus:"","onUpdate:modelValue":S[0]||(S[0]=_=>t.value=_)},null,40,Ee),[[L,t.value]])]),l("section",be,[Ce,l("label",{onClick:u,for:"sort-todos",title:"Sort Todos",class:I({"sort-arrow":!0,"sort-arrow-right":s.value===n(c).UNSORTED,"sort-arrow-up":s.value===n(c).ASCENDING,"sort-arrow-down":s.value===n(c).DESCENDING})}," Sort Todos",2),n(o).todos?(p(),h("ul",De,[(p(!0),h(O,null,ee(n(o).todos,_=>(p(),w(P,{key:_.id,modelValue:n(o).todos[n(o).todos.findIndex(y=>_.id===y.id)],"onUpdate:modelValue":[y=>n(o).todos[n(o).todos.findIndex(z=>_.id===z.id)]=y,y=>m(_)],onDestroyTodo:y=>a(_)},null,8,["modelValue","onUpdate:modelValue","onDestroyTodo"]))),128)),n(o).todos.length===0?(p(),w(j,{key:0})):A("",!0)])):A("",!0)]),l("footer",Ie,[l("span",Ne,[l("strong",null,v(n(o).tasksLeft),1),oe(" item"+v(n(o).tasksLeft===1?"":"s")+" left",1)]),l("ul",Se,[l("li",null,[E(k,{type:"button",onClick:i,active:n(o).filter==="all",label:{displayText:"All",value:"all"}},null,8,["active"])]),l("li",null,[E(k,{type:"button",onClick:i,active:n(o).filter==="unchecked",label:{displayText:"Unchecked",value:"unchecked"}},null,8,["active"])]),l("li",null,[E(k,{type:"button",onClick:i,active:n(o).filter==="checked",label:{displayText:"Checked",value:"checked"}},null,8,["active"])])]),l("button",{type:"button",onClick:r,class:"clear-completed"}," Clear completed ")])]),l("div",{onClick:d},v((V=n(o).todos)==null?void 0:V.length),1)],64)}}});var xe=N(Ve,[["__scopeId","data-v-4c87ac68"]]);const K=te(xe),Oe=se();K.use(Oe);K.mount("#app");
